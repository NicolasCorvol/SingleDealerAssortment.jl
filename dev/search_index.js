var documenterSearchIndex = {"docs":
[{"location":"api/#API-Reference","page":"API reference","title":"API Reference","text":"","category":"section"},{"location":"api/#Index","page":"API reference","title":"Index","text":"","category":"section"},{"location":"api/#Reference","page":"API reference","title":"Reference","text":"","category":"section"},{"location":"api/#SingleDealerAssortment.Coaml_model","page":"API reference","title":"SingleDealerAssortment.Coaml_model","text":"struct Coaml_model{L1, L2}\n\nFields\n\nθ_model::Any: replenishment reward\nη_model::Any: stock penalization\n\n\n\n\n\n","category":"type"},{"location":"api/#SingleDealerAssortment.Coaml_model-Tuple{Any, Any}","page":"API reference","title":"SingleDealerAssortment.Coaml_model","text":"Coaml_model(\n    θ_model,\n    η_model\n) -> SingleDealerAssortment.Coaml_model\n\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.Dataset","page":"API reference","title":"SingleDealerAssortment.Dataset","text":"mutable struct Dataset\n\nFields\n\ninstance::Instance\nX::Vector{SingleDealerAssortment.XSample}\nY::Vector{Any}\nY_gap::Vector{Solution}\n\n\n\n\n\n","category":"type"},{"location":"api/#SingleDealerAssortment.Dataset-Tuple{Instance, Vector{SingleDealerAssortment.XSample}, Vector{Any}, Vector{Solution}}","page":"API reference","title":"SingleDealerAssortment.Dataset","text":"Dataset(\n    instance::Instance,\n    X::Vector{SingleDealerAssortment.XSample},\n    Y::Vector{Any},\n    Y_gap::Vector{Solution}\n) -> Dataset\n\n\nCreate a dataset given its fields.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.Instance","page":"API reference","title":"SingleDealerAssortment.Instance","text":"mutable struct Instance\n\nFields\n\nT::Int64\nn::Int64\nunormalized_features::Matrix{Float64}\narchetype_features::Matrix{Float64}\nconstraints_matrix::Vector{Vector{Float64}}\nquotas::Vector{Vector{Float64}}\nstock_ini::Vector{Int64}\nstock_inf::Int64\nstock_sup::Int64\nover_stock_bound_cost::Float16\nprices::Vector{Float16}\nvirtual_stock_costs::Vector{Float16}\nphysical_stock_costs::Vector{Float16}\nub_same_archetype::Int64\ndate_mada::Int64\nmin_quota_per_time_step_per_archetype::Vector{Vector{Float64}}\nnb_constraints::Int64\nnb_features::Int64\n\n\n\n\n\n","category":"type"},{"location":"api/#SingleDealerAssortment.Results","page":"API reference","title":"SingleDealerAssortment.Results","text":"mutable struct Results\n\nFields\n\ninstance::Instance\nscenarios::Vector{Scenario}\npolicies::Vector{String}\nsolutions::Dict{String, Vector{Solution}}\n\n\n\n\n\n","category":"type"},{"location":"api/#SingleDealerAssortment.Scenario","page":"API reference","title":"SingleDealerAssortment.Scenario","text":"mutable struct Scenario\n\nFields\n\nT::Int64\nnb_customer::Vector{Int64}\nstatic_utilities::Vector{Float64}\nutilities::Vector{Vector{Vector{Float64}}}\ncustomer_choice_model::Distributions.Distribution\nsorted_utilities::Vector{Vector{Vector{Int64}}}\nindex_no_buy::Vector{Vector{Int64}}\nbig_M::Vector{Vector{Vector{Int64}}}\n\n\n\n\n\n","category":"type"},{"location":"api/#SingleDealerAssortment.Solution","page":"API reference","title":"SingleDealerAssortment.Solution","text":"mutable struct Solution\n\nFields\n\ninstance::Instance\nscenario::Scenario\nstock::Vector{Vector{Int64}}\nreplenishments::Vector{Vector{Int64}}\nsales::Vector{Vector{Int64}}\ncost::Union{Nothing, Float64}\nphysical_stock::Union{Nothing, Vector{Vector{Int64}}}\nelapsed_time::Union{Nothing, Float64}\n\n\n\n\n\n","category":"type"},{"location":"api/#SingleDealerAssortment.TrainingResults","page":"API reference","title":"SingleDealerAssortment.TrainingResults","text":"mutable struct TrainingResults\n\nFields\n\ninitial_model::Any\ninstance::Instance\ntraining_set::Dataset\ntest_set::Dataset\nfinal_model::Any\nbest_model::Any\ntraining_losses::Vector{Float64}\nvalidation_losses::Vector{Float64}\ntraining_gaps::Vector{Float64}\nvalidation_gaps::Vector{Float64}\nbest_validation_loss::Float64\nnb_epochs::Int64\n\n\n\n\n\n","category":"type"},{"location":"api/#SingleDealerAssortment.XSample","page":"API reference","title":"SingleDealerAssortment.XSample","text":"mutable struct XSample\n\nFields\n\ninstance::Instance\ncurrent_solution::Solution\nfeatures_archetypes::Matrix{Float64}\nfeatures_stock::Matrix{Float64}\n\n\n\n\n\n","category":"type"},{"location":"api/#SingleDealerAssortment.add_policy_results!-Tuple{Results, String, Vector{Solution}}","page":"API reference","title":"SingleDealerAssortment.add_policy_results!","text":"add_policy_results!(\n    results::Results,\n    policy::String,\n    solutions_policy::Vector{Solution}\n) -> Vector{Solution}\n\n\nAdd results for a given policy.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.add_solution_to_dataset!-Tuple{Dataset, Solution}","page":"API reference","title":"SingleDealerAssortment.add_solution_to_dataset!","text":"add_solution_to_dataset!(\n    dataset::Dataset,\n    solution::Solution\n)\n\n\nAdd a solution to the dataset by extracting the corresponding samples.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.build_Coaml_model-Tuple{Any, Any}","page":"API reference","title":"SingleDealerAssortment.build_Coaml_model","text":"build_Coaml_model(\n    archeytpe_feature_size,\n    stock_archetype_feature_size\n) -> SingleDealerAssortment.Coaml_model\n\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.build_Coaml_model_relu-Tuple{Any, Any}","page":"API reference","title":"SingleDealerAssortment.build_Coaml_model_relu","text":"build_Coaml_model_relu(\n    archeytpe_feature_size,\n    stock_archetype_feature_size\n) -> SingleDealerAssortment.Coaml_model\n\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.build_Coaml_model_tanh-Tuple{Any, Any}","page":"API reference","title":"SingleDealerAssortment.build_Coaml_model_tanh","text":"build_Coaml_model_tanh(\n    archeytpe_feature_size,\n    stock_archetype_feature_size\n) -> SingleDealerAssortment.Coaml_model\n\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.check_solution-Tuple{Any}","page":"API reference","title":"SingleDealerAssortment.check_solution","text":"check_solution(solution) -> Bool\n\n\nCheck if a given solution is feasible.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.compute_bigM-Tuple{Scenario, Instance}","page":"API reference","title":"SingleDealerAssortment.compute_bigM","text":"compute_bigM(\n    scenario::Scenario,\n    instance::Instance\n) -> Vector{Vector{Vector{Int64}}}\n\n\nCompute big M values for the scenario and instance.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.compute_cost-Tuple{Solution}","page":"API reference","title":"SingleDealerAssortment.compute_cost","text":"compute_cost(\n    solution::Solution\n) -> Union{Nothing, Float16, Float64}\n\n\nCompute the cost of a given solution.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.compute_dol_archetype-Tuple{Solution, Int64}","page":"API reference","title":"SingleDealerAssortment.compute_dol_archetype","text":"compute_dol_archetype(\n    solution::Solution,\n    archetype_index::Int64\n) -> Union{Vector{Any}, Vector{Float64}, Vector{Int64}}\n\n\nCompute the days on lot of the archetype archetype_index. It represents the time spent at the dealership by this archetype before being sold.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.compute_gap_policy-Tuple{Results, String}","page":"API reference","title":"SingleDealerAssortment.compute_gap_policy","text":"compute_gap_policy(\n    results::Results,\n    policy::String\n) -> Vector{Any}\n\n\nCompute gap to the anticipative bound for each policy.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.compute_physical_stock-Tuple{Solution}","page":"API reference","title":"SingleDealerAssortment.compute_physical_stock","text":"compute_physical_stock(\n    solution::Solution\n) -> Union{Nothing, Vector{Vector{Int64}}}\n\n\nCompute physical stock from solution.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.compute_step_instance-Tuple{Instance, Vector{Int64}, Int64}","page":"API reference","title":"SingleDealerAssortment.compute_step_instance","text":"compute_step_instance(\n    instance::Instance,\n    stock_ini::Vector{Int64},\n    t::Int64\n) -> Instance\n\n\nCompute the step instance at time t given the initial stock.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.compute_step_solution-Tuple{Solution, Int64}","page":"API reference","title":"SingleDealerAssortment.compute_step_solution","text":"compute_step_solution(\n    solution::Solution,\n    t::Int64\n) -> Solution\n\n\nReturn the state of the solution at time step t.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.compute_μ_σ-Tuple{Any}","page":"API reference","title":"SingleDealerAssortment.compute_μ_σ","text":"compute_μ_σ(X::Vector{Instance})\n\nCompute mean and standard deviation for each features in X instances.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.convert_milp_solution-NTuple{5, Any}","page":"API reference","title":"SingleDealerAssortment.convert_milp_solution","text":"convert_milp_solution(\n    instance,\n    scenario,\n    s_val,\n    y_val,\n    α_val\n) -> Solution\n\n\nConvert MILP solution variables into Solution struct.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.create_archetype_features-Tuple{Instance, Solution}","page":"API reference","title":"SingleDealerAssortment.create_archetype_features","text":"create_archetype_features(\n    instance::Instance,\n    step_solution::Solution\n) -> Matrix{Float64}\n\n\nCreate features per archetype.  The first instance.nb_features columns correspond to static features. The last 6 columns correspond to dynamic features:\n\ncurrent stock and scaled with price\nmean sales and scaled with price\nmean days on lot and scaled with price\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.create_stock_features-Tuple{Instance, Solution, Any}","page":"API reference","title":"SingleDealerAssortment.create_stock_features","text":"create_stock_features(\n    instance::Instance,\n    step_solution::Solution,\n    features_archetypes\n) -> Any\n\n\nCreate features per stock level per archetype. The first instance.nb_features+6 columns correspond to static the archetype features. The last 8 columns correspond to dynamic stock features:\n\ndeviation from stock_inf and scaled with price \ndeviation from stock_sup and scaled with price\ndeviation from min_quota and i and scaled with price\ndeviation from mean stock and scaled with price\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.create_x_sample-Tuple{Instance, Solution, Int64}","page":"API reference","title":"SingleDealerAssortment.create_x_sample","text":"create_x_sample(\n    instance::Instance,\n    step_solution::Solution,\n    t::Int64\n) -> SingleDealerAssortment.XSample\n\n\nCreate input for the coaml model givent the step solution at time t.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.g-Tuple{Any}","page":"API reference","title":"SingleDealerAssortment.g","text":"g(y; x)\n\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.g_without_η-Tuple{Any}","page":"API reference","title":"SingleDealerAssortment.g_without_η","text":"g_without_η(y; x)\n\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.generate_dataset-Tuple{Int64, Instance, Vector{Float64}, Distributions.Distribution, Int64}","page":"API reference","title":"SingleDealerAssortment.generate_dataset","text":"generate_dataset(\n    nb_scenarios::Int64,\n    instance::Instance,\n    static_utilities::Vector{Float64},\n    customer_choice_model::Distributions.Distribution,\n    seed::Int64;\n    training\n) -> Dataset\n\n\nGenerate a dataset of scenarios with their corresponding optimal replenishment decisions.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.generate_random_instance-Tuple{Int64, Int64}","page":"API reference","title":"SingleDealerAssortment.generate_random_instance","text":"generate_random_instance(\n    T::Int64,\n    n::Int64;\n    nb_constraints,\n    nb_features_archetypes,\n    stock_inf,\n    stock_sup,\n    date_mada,\n    ub_same_archetype,\n    seed\n) -> Instance\n\n\nGenerate a random instance of the problem.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.get_global_policy_metric-Tuple{Results, String, String}","page":"API reference","title":"SingleDealerAssortment.get_global_policy_metric","text":"get_global_policy_metric(\n    results::Results,\n    policy::String,\n    metric::String\n) -> AbstractVector{<:Union{Nothing, AbstractFloat}}\n\n\nCompute global metric for a given policy and metric.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.get_mean_std_per_archetype_policy_metric-Tuple{Results, String, String}","page":"API reference","title":"SingleDealerAssortment.get_mean_std_per_archetype_policy_metric","text":"get_mean_std_per_archetype_policy_metric(\n    results::Results,\n    policy::String,\n    metric::String\n) -> Tuple{Vector, Vector}\n\n\nCompute per archetype metric for a given policy and metric.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.get_policy_results-Tuple{Results, String}","page":"API reference","title":"SingleDealerAssortment.get_policy_results","text":"get_policy_results(\n    results::Results,\n    policy::String\n) -> Vector{Solution}\n\n\nGet the list of solutions for a given policy.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.get_scenarios-Tuple{Dataset}","page":"API reference","title":"SingleDealerAssortment.get_scenarios","text":"get_scenarios(dataset::Dataset) -> Vector{Scenario}\n\n\nGet the scenarios corresponding to the solutions stored in the dataset.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.h-Tuple{Any}","page":"API reference","title":"SingleDealerAssortment.h","text":"h(y; x)\n\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.highs_model-Tuple{}","page":"API reference","title":"SingleDealerAssortment.highs_model","text":"Initialize a HiGHS model (with disabled logging).\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.mean_dols_per_archetype-Tuple{Solution}","page":"API reference","title":"SingleDealerAssortment.mean_dols_per_archetype","text":"mean_dols_per_archetype(\n    solution::Solution\n) -> Vector{Float64}\n\n\nCompute the mean days on lot per archetype of a solution.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.mean_gap_model-Tuple{Any, Any}","page":"API reference","title":"SingleDealerAssortment.mean_gap_model","text":"mean_gap_model(Y_gap, model) -> Any\n\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.mean_loss-NTuple{4, Any}","page":"API reference","title":"SingleDealerAssortment.mean_loss","text":"mean_loss(loss, model, X, Y) -> Any\n\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.mean_replenishment_per_archetype-Tuple{Solution}","page":"API reference","title":"SingleDealerAssortment.mean_replenishment_per_archetype","text":"mean_replenishment_per_archetype(\n    solution::Solution\n) -> Vector{Float64}\n\n\nCompute the mean replenishment per archetype of a solution.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.mean_sales_per_archetype-Tuple{Solution}","page":"API reference","title":"SingleDealerAssortment.mean_sales_per_archetype","text":"mean_sales_per_archetype(\n    solution::Solution\n) -> Vector{Float64}\n\n\nCompute the mean sales per archetype of a solution.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.mean_stock_per_archetype-Tuple{Solution}","page":"API reference","title":"SingleDealerAssortment.mean_stock_per_archetype","text":"mean_stock_per_archetype(\n    solution::Solution\n) -> Vector{Float64}\n\n\nCompute the mean stock per archetype of a solution.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.merge_dataset-Tuple{Dataset, Dataset}","page":"API reference","title":"SingleDealerAssortment.merge_dataset","text":"merge_dataset(\n    dataset_1::Dataset,\n    dataset_2::Dataset\n) -> Dataset\n\n\nHelper function to merge two datasets.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.normalize_data!-Tuple{Matrix{Float64}, Any, Any}","page":"API reference","title":"SingleDealerAssortment.normalize_data!","text":"normalize_data!(X, μ, σ)\n\nStandardize each feature of X by centering and reducing with μ and σ.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.order_policies!-Tuple{Results}","page":"API reference","title":"SingleDealerAssortment.order_policies!","text":"order_policies!(results::Results) -> Vector{String}\n\n\nOrder the policies in results according to POLICY_ORDER for ploting.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.print_costs-Tuple{Results}","page":"API reference","title":"SingleDealerAssortment.print_costs","text":"print_costs(results::Results)\n\n\nPrint costs for each policy.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.print_gaps-Tuple{Results}","page":"API reference","title":"SingleDealerAssortment.print_gaps","text":"print_gaps(results::Results)\n\n\nPrint gaps to the anticipative bound for each policy.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.reduce_data!-Tuple{Matrix{Float64}, Any}","page":"API reference","title":"SingleDealerAssortment.reduce_data!","text":"reduce_data!(X, σ)\n\nReduce X with σ, without centering it.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.replenishment_problem-Tuple{Any}","page":"API reference","title":"SingleDealerAssortment.replenishment_problem","text":"replenishment_problem(Θ; x, y_true, model_builder)\n\n\nCO oracle with θ and η as cost vectors.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.sample_scenario-NTuple{4, Any}","page":"API reference","title":"SingleDealerAssortment.sample_scenario","text":"sample_scenario(\n    T,\n    customer_choice_model,\n    static_utilities,\n    seed;\n    temp\n) -> Scenario\n\n\nSample a scenario given the customer choice model and static utilities.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.solve_anticipative-Tuple{Instance, Scenario}","page":"API reference","title":"SingleDealerAssortment.solve_anticipative","text":"solve_anticipative(\n    instance::Instance,\n    scenario::Scenario;\n    time_limit,\n    model_builder\n) -> Union{Tuple{Int64, Nothing}, Tuple{Any, Solution}}\n\n\nSolve the anticipative problem for a given instance and scenario.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.train_model-Tuple{Any, Dataset, Dataset}","page":"API reference","title":"SingleDealerAssortment.train_model","text":"train_model(\n    initial_model,\n    training_dataset::Dataset,\n    test_dataset::Dataset;\n    nb_epochs,\n    ε,\n    nb_samples,\n    seed,\n    lr,\n    logger,\n    log_dir,\n    nb_max_epoch_without_improvement,\n    early_stopping,\n    with_eta,\n    log_interval\n) -> TrainingResults\n\n\nTraining loop for the COAML model.\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.train_setup-NTuple{5, Any}","page":"API reference","title":"SingleDealerAssortment.train_setup","text":"train_setup(\n    initial_model,\n    ε,\n    nb_samples,\n    seed,\n    lr;\n    with_eta\n) -> NamedTuple{(:loss, :model, :opt), <:Tuple{InferOpt.FenchelYoungLoss{O} where O<:(InferOpt.PerturbedOracle{InferOpt.AdditivePerturbation{Distributions.Normal{Float64}}}), Any, Optimisers.Adam}}\n\n\n\n\n\n\n","category":"method"},{"location":"api/#SingleDealerAssortment.transform_data_for_training_set-Tuple{Solution}","page":"API reference","title":"SingleDealerAssortment.transform_data_for_training_set","text":"transform_data_for_training_set(\n    solution::Solution\n) -> Tuple{Vector{Matrix{Float32}}, Vector{Matrix{Float32}}}\n\n\nTransform data into training set format. This function is used to create the oracle labels for y and z variables.\n\n\n\n\n\n","category":"method"},{"location":"math/#Problem-Statement","page":"Problem Statement","title":"Problem Statement","text":"This repository answers to the dynamic single-dealer replenishment problem.\n\nMore information will follow.","category":"section"},{"location":"#SingleDealerAssortment","page":"Home","title":"SingleDealerAssortment","text":"Documentation for SingleDealerAssortment. This package is the first work of a CIFRE PhD in collaboration between Renault Group and CERMICS Laboratory. It explores new methods to solve the dynamic single dealer stock replenishment problem.  \n\nIf you have any feedback or question, feel free to create an issue or contact me.","category":"section"},{"location":"#Installation","page":"Home","title":"Installation","text":"using Pkg\nPkg.add(url=\"https://github.com/NicolasCorvol/SingleDealerAssortment.jl\")","category":"section"}]
}
